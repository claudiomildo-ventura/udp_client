<page-title></page-title>

<div class="container col-12 mt-3">
    <form [formGroup]="frmHomePage" (ngSubmit)="submit()">

        <mat-card>
            <mat-card-content class="mat-elevation-z0">
                <div formGroupName="group1">
                    <!-- Detail Textarea -->
                    <mat-form-field appearance="fill" class="w-100 mb-1">
                        <textarea
                            matInput
                            formControlName="detail"
                            rows="20"
                            readonly
                        >{{ detail.data }}</textarea>
                        <mat-error *ngIf="startValidation && errorMessage">{{ errorMessage }}</mat-error>
                    </mat-form-field>

                    <!-- File input + Submit button row -->
                    <div class="row align-items-center mb-1">

                        <!-- File input button -->
                        <div class="col-md-6 col-sm-12 mb-1 mb-md-0">
                            <input type="file" hidden #txtFile (change)="onFileSelected($event)" />
                            <button type="button" mat-raised-button color="primary" (click)="txtFile.click()">
                                Choose File
                            </button>
                            <span class="ms-2" *ngIf="selectedFileName">{{ selectedFileName }}</span>
                        </div>

                        <!-- Submit button -->
                        <div class="col-md-6 col-sm-12 text-md-end text-sm-start">
                            <button
                                type="submit"
                                mat-raised-button
                                color="accent"
                                [disabled]="frmHomePage.invalid"
                            >
                                <mat-icon>check</mat-icon> Submit
                            </button>
                        </div>
                    </div>
                </div>

            </mat-card-content>

        </mat-card>

    </form>
</div>

<page-end></page-end>
